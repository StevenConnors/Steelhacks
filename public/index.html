<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Experiments with the Snowman and A-Frame VR</title>
    <meta name="description" content="Experiments with A-Frame VR">
    <script src="https://aframe.io/releases/latest/aframe.min.js"></script>
    <script src="js/aframe-text-component.min.js"></script>
    <script src="js/bundle.js"></script>
    <style>
      #audio {
        position: absolute;
        bottom: 5px;
        left: 5px;
        width: 240px;
        z-index: 1;
      }
      @media (min-width: 480px) {
        #audio {
          bottom: 20px;
          left: 20px;
          width: 300px;
        }
      }
    </style>
  </head>
  <body>
    <a-assets>
      <img id="my-texture" src="/assets/monu9-nopillarnoz.png">
      <img id="pillar-texture" src="/assets/monu9-pillar.png">
      <img id="Lshape-texture" src="/assets/monu9-L.png">
      <img id="Zshape-texture" src="/assets/monu9-Z.png">
      <img id="button-texture" src="/assets/monu9-button.png">
    </a-assets>

    <a-scene terrain="#terrain [geometry], #scene" stats="false">


      <a-entity id="player" position="-50 30 -40">
        <a-entity camera 
                  fov="-0"
                  look-controls 
                  wasd-controls
                  keyboard-controls="acceleration: 200"
                  jump-ability="enableDoubleJump: true;
                                soundJump: #sound-jump;
                                soundLand: #sound-land;">
          <a-entity id="sound-jump"
                    sound="src: /assets/mariojumpsound.mp3;
                           on: fire;">
          </a-entity>
          <a-entity id="sound-land"
                    sound="src: https://sandbox.donmccurdy.com/assets/sound/footfall.mp3;
                           on: fire;
                           volume: 2;">
          </a-entity>

          <a-entity cursor="fuse: true; timeout: 100; maxDistance: 50;" 
                  geometry="primitive:ring; radiusInner:0.02; radiusOuter:0.03" 
                  material="color: #4CC3D9" 
                  position="0 0 -2"></a-entity>
        </a-entity>
        <a-animation attribute="position" begin="navigate-to-link" to="0 8 0" dur="5000"></a-animation>          
      </a-entity>

      <a-entity id="scene">
        <a-model rotation="0 -90 0"  
                 scale="1 1 1" 
                 position="0 1.8 4" 
                 src="/assets/monu9-nopillarnoz.dae"
                 material="#my-texture"
                 id="model">
        </a-model>
      </a-entity>

      <a-cube id="terrain"
              height="1"
              width="1000"
              depth="1000"
              color="#BCDFFF">
      </a-cube>

      <a-model id="pillar" 
                rotation="0 -90 0" 
                scale="1 1 1" 
                position="0 1.8 4" 
                src="/assets/monu9-pillar.dae" 
                material="src: #pillar-texture" 
                visible="true">
        <a-animation attribute="scale" begin="scale-pillar" to="1 3.48 1" dur="3000"></a-animation>
      </a-model>

      <a-model id="L-shape"  
               rotation="0 -90 0" 
               scale="1 1 1" 
               position="0 1.8 4" 
               src="/assets/monu9-L.dae" 
               material="src: #Lshape-texture"
               visible="true">
        <a-animation attribute="position" begin="L-shape-scale" to="0 39 4" dur="3000"></a-animation>
      </a-model>

      <a-model id="Z-shape"
               rotation="0 -90 0"
               scale= "1 1 1"
               position="0 1.8 4"
               src="/assets/monu9-Z.dae"
               material="src:#Zshape-texture"
               visible="true">
      <a-animation attribute="scale" begin="Z-shape-scale" to="1 7.5 1" dur="3000"></a-animation>
      </a-model>

      <a-model id="button"
               rotation="0 -90 0"
               scale= "1 1 1"
               position="0 1.8 4"
               src="/assets/monu9-button.dae"
               material="src:#button-texture"
               visible="true">
      <a-animation attribute="position" begin="button-scale" to="0 21.4 4" dur="3000"></a-animation>
      </a-model>

      <a-cube id="pcover" 
              position="-15 25 27" 
              transparent="true"
              opacity="0"
              rotation="0 -90 0" 
              width="6" 
              height="3" 
              depth="6">
        
      </a-cube>
      <a-cube id="FButtonCover" 
              position="-15 10 -35" 
              transparent="true"
              opacity="0"
              rotation="0 -90 0" 
              width="6" 
              height="3" 
              depth="6">
        
      </a-cube>

  
      <!-- Sky -->
      <a-sky id="sky" color="#AADDF0"></a-sky>

      <!-- Lighting -->
      <a-light type="ambient" color="#ccc"></a-light>
      <a-light color="#ddf" position="0 30 0" distance="100" intensity="0.4" type="point"></a-light>
      <a-light color="#ddf" position="3 10 -10" distance="50" intensity="0.4" type="point"></a-light>

    </a-scene>
   <script language="javascript">
      document.querySelector('#pcover').addEventListener('click', function () {
        document.querySelector('#pillar').emit('scale-pillar');
          })
      document.querySelector('#pcover').addEventListener('click', function () {
        document.querySelector('#L-shape').emit('L-shape-scale');
          });
      document.querySelector('#FButtonCover').addEventListener('click', function () {
        document.querySelector('#Z-shape').emit('Z-shape-scale');
          });
      document.querySelector('#FButtonCover').addEventListener('click', function () {
        document.querySelector('#button').emit('button-scale');
          });
    </script> 


  </body>
</html>
